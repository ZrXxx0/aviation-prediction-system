# 前端看板页面 API 接口需求

本文件描述了前端看板页面（DashboardView.vue）与后端联调所需的主要数据接口。

---

## 1. 获取航线分布数据

- **接口路径**：`/api/routes/`
- **方法**：GET
- **参数**：
  - `year_month`（string，必填）：格式如 `2025-07`
  - `city`（string，可选）：城市名，若为空则为全国
- **返回示例**：
  ```json
  [
    {"from": "上海", "to": "北京", "flights": 322},
    {"from": "上海", "to": "广州", "flights": 350}
    // ...
  ]
  ```
- **说明**：根据年月、城市筛选，返回航线（起点、终点、航班量）。

---

## 2. 获取统计卡片数据

- **接口路径**：`/api/statistics/summary/`
- **方法**：GET
- **参数**：
  - `year_month`（string，必填）：格式如 `2025-07`
  - `start_city`（string，可选）：起始城市名
  - `end_city`（string，可选）：终点城市名
- **返回示例**：
  ```json
  {
    "capacity": 1258000,
    "volume": 982000,
    "flights": 1280
  }
  ```
- **说明**：根据起始城市、终点城市、年月筛选，返回总运力、总运量、航班数量。

---

## 4. 获取统计趋势数据

- **接口路径**：`/api/statistics/trend/`
- **方法**：GET
- **参数**：
  - `start_city`（string，可选）：起始城市名
  - `end_city`（string，可选）：终点城市名
- **返回示例**：
  ```json
  {
    "months": ["2024-08", "2024-09", ..., "2025-07"],  # 就1年
    "capacity": [1258, 1120, ...],
    "volume": [982, 860, ...],
    "flights": [128, 112, ...]
  }
  ```
- **说明**：根据起始城市、终点城市，返回过去12个月的运力、运量、航班数量趋势。

---

## 备注
- 省市、城市、年月等参数都应支持“全部”或“全国”选项（如 city 为空时返回全国数据）。
- 所有接口建议返回结构化 JSON，字段名与前端变量保持一致，便于对接。